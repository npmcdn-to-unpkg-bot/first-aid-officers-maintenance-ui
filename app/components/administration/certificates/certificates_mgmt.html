<h3>Aptitudes et types de formations</h3>
<br />
<div style="display: flex; flex-wrap: wrap; justify-content: space-around; align-items: flex-start;">
    <div class="panel panel-{{edit ? 'warning' : 'primary'}}" ng-repeat="cert in certificates" style="flex-basis: 500px;">
        <div class="panel-heading">
            <div class="row">
                <div class="col-xs-8" style="margin-top: 9px;">
                    <span class="label label-primary">{{cert.cert_short}}</span> - {{cert.cert_name}}
                </div>
                <div class="col-xs-4 text-right">
                    <button type="button" class="btn btn-{{edit ? 'primary' : 'warning'}} no-margin" ng-click="edit = !edit">{{edit ? 'Annuler' : 'Modifier'}}</button>
                </div>
            </div>
        </div>
        <form class="panel-body form-horizontal" autocomplete="off">
            <div uib-collapse="edit" class="clickme" ng-click="height = !height">
                <div class="col-xs-3 text-right">Cible</div>
                <div class="col-xs-9"><span class="text-primary">{{cert.cert_target}}</span>% de l'effectif</div>
                <div class="col-xs-3 text-right">Indicateurs</div>
                <div class="col-xs-9">
                    <label class="label label-success">vert</label> - cible <span class="text-success">atteinte</span>
                    <span class="pull-right">au-dessus de <span class="text-success">{{cert.cert_target}}</span>%</span>
                </div>
                <div class="col-xs-3"></div>
                <div class="col-xs-9">
                    <label class="label label-warning">orange</label> - cible <span class="text-warning">presque atteinte</span>
                    <span class="pull-right">entre <span class="text-warning">{{round(cert.cert_target * 2/3)}}</span> et <span class="text-warning">{{cert.cert_target}}</span>%</span>
                </div>
                <div class="col-xs-3"></div>
                <div class="col-xs-9">
                    <label class="label label-danger">rouge</label> - cible <span class="text-danger">non atteinte</span>
                    <span class="pull-right">en-dessous de <span class="text-danger">{{round(cert.cert_target * 2/3)}}</span>%</span>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <uib-progress class="progress progress-striped" ng-class="{'progress-large': height}">
                            <uib-bar value="round(cert.cert_target * 2/3)" type="danger"><span>&lt;&nbsp;{{round(cert.cert_target * 2/3)}}%</span></uib-bar>
                            <uib-bar value="round(cert.cert_target * 1/3)" type="warning"></uib-bar>
                            <uib-bar value="100 - cert.cert_target" type="success"><span>&ge;&nbsp;{{cert.cert_target}}%</span></uib-bar>
                        </uib-progress>
                    </div>
                </div>
            </div>
            <div uib-collapse="!edit">
                <div class="form-group">
                    <label class="control-label col-xs-3">Identifiant</label>
                    <div class="col-xs-9">
                        <input type="text" class="form-control" ng-model="cert.cert_short" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-xs-3">Nom</label>
                    <div class="col-xs-9">
                        <input type="text" class="form-control" ng-model="cert.cert_name" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-xs-3">Cible</label>
                    <div class="col-xs-9">
                        <div class="input-group">
                            <input type="number" class="form-control" min="0" max="100" ng-model="cert.cert_target" />
                            <span class="input-group-addon">%</span>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div class="panel-footer text-center" uib-collapse="!edit">
            <button type="button" class="btn btn-primary" ng-click="">Sauvegarder</button>
            <button type="button" class="btn btn-danger" ng-click="">Supprimer</button>
        </div>
    </div>
    <div class="panel panel-{{adding ? 'success' : 'default'}}" style="flex-basis: 500px;">
        <div class="panel-heading">Nouvelle aptitude</div>
        <form class="form form-horizontal panel-body" autocomplete="off" uib-collapse="!adding">

            <div class="form-group">
                <label class="control-label col-xs-3">Identifiant</label>
                <div class="col-xs-9">
                    <input type="text" class="form-control" ng-model="cert.cert_short" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-3">Nom</label>
                <div class="col-xs-9">
                    <input type="text" class="form-control" ng-model="cert.cert_name" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-3">Cible</label>
                <div class="col-xs-9">
                    <div class="input-group">
                        <input type="number" class="form-control" min="0" max="100" ng-model="cert.cert_target" />
                        <span class="input-group-addon">%</span>
                    </div>
                </div>
            </div>
        </form>
        <div class="panel-footer text-center">
            <div uib-collapse="adding">
                <button type="button" class="btn btn-primary" ng-click="adding=true">Cr&eacute;er</button>
            </div>
            <div uib-collapse="!adding">
                <button type="button" class="btn btn-success" ng-click="">Sauvegarder</button>
                <button type="button" class="btn btn-default" ng-click="adding=false">Annuler</button>
            </div>
        </div>
    </div>
</div>
