<form name="form" ng-submit="callback(password_current, password, closeThisDialog)" role="form" class="form-horizontal panel panel-primary">
    <div class="panel-heading">
        Nouveau mot de passe
        <span class="clickme pull-right" ng-click="closeThisDialog()">&nbsp;<span class="glyphicon glyphicon-remove"></span></span>
    </div>
    <div class="panel-body">
        <div class="form-group" ng-class="{ 'has-error': form.password_current.$dirty && form.password_current.$error.required }">
            <div class="row">
                <label for="password_current" class="col-xs-6 col-sm-4 control-label">MDP. actuel</label>
                <div class="col-xs-6 col-sm-8">
                    <input type="password" name="password_current" id="password_current" class="form-control" ng-model="password_current" required />
                    <span ng-show="form.password_current.$dirty && form.password_current.$error.required" class="help-block">Mot de passe requis</span>
                </div>
            </div>
        </div>
        <hr />
        <div class="form-group" ng-class="{ 'has-error': form.password.$dirty && form.password.$error.required }">
            <div class="row">
                <label for="password" class="col-xs-6 col-sm-4 control-label">Nouveau MDP.</label>
                <div class="col-xs-6 col-sm-8">
                    <input type="password" name="password" id="password" class="form-control" ng-model="password" required />
                    <span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">Mot de passe requis</span>
                </div>
            </div>
        </div>
        <div class="form-group" ng-class="{ 'has-error': form.password_confirm.$dirty && (form.password_confirm.$error.required || password_confirm !== password) }">
            <div class="row">
                <label for="password_confirm" class="col-xs-6 col-sm-4 control-label">Confirmer MDP.</label>
                <div class="col-xs-6 col-sm-8">
                    <input type="password" name="password_confirm" id="password_confirm" class="form-control" required ng-model="password_confirm" ng-disabled="!password" />
                    <span ng-show="form.password_confirm.$dirty && (form.password_confirm.$error.required || password_confirm !== password)" class="help-block">Les deux mots de passe doivent correspondre</span>
                </div>
            </div>
        </div>
    </div>
    <div class="panel-footer text-center">
        <button type="submit" ng-disabled="form.$invalid || password_confirm !== password" class="btn btn-primary">Mofidier mon mot de passe</button>
    </div>
</form>
